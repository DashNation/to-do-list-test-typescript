let addBtn=document.getElementById("addBtn"),editBtn=document.getElementById("editBtn"),removeBtn=document.getElementById("removeBtn"),todoValueInputField=document.getElementById("todoValueInputField"),noteList=document.getElementById("noteList"),noteCount=0,isEditActive=!1,isRemoveActive=!1;class Note{note;id;constructor(e){this.note=todoValueInputField.value.trim(),this.id=noteCount++}addNote(){var e;""!==this.note&&((e=document.createElement("li")).classList.add("listElement"),e.innerHTML=this.note,e.id=""+this.id,noteList.appendChild(e))}static editNote(e){let t=document.createElement("div"),n=(t.id="userInputWrapper",t.style.display="flex",t.style.flexDirection="row",t.style.justifyContent="space-between",t.style.gap="0.05rem",noteList.appendChild(t),e.textContent||""),d=document.createElement("input"),i=(d.value=n,d.id="userInputField",d.classList.add("userInputField"),d.type="text",document.createElement("button"));i.classList.add("checkBtn"),i.classList.add("btn");var s=document.createElement("img");s.src="SVG/checkMark24.svg",s.classList.add("check"),i.appendChild(s);let l=document.createElement("button");l.classList.add("crossBtn"),l.classList.add("btn");s=document.createElement("img");function o(){var e=document.createElement("li");e.value;e.textContent=d.value,e.classList.add("listElement"),t.replaceWith(e),i.remove(),l.remove()}function c(e){var t=document.createElement("li");t.textContent=e,t.classList.add("listElement"),d.replaceWith(t),i.remove(),l.remove()}s.src="SVG/cross50.svg",s.classList.add("cross"),l.appendChild(s),t.appendChild(d),t.appendChild(i),t.appendChild(l),e.replaceWith(t),d.focus();let a=!1;i.addEventListener("mousedown",()=>{a=!0,o()}),l.addEventListener("mousedown",()=>{a=!0,c(n)}),d.addEventListener("keydown",e=>{a||("Enter"===e.key&&o(),"Escape"===e.key&&(console.log("Escape Pressed!"),c(n)))}),d.addEventListener("blur",()=>{a||o()})}}function ClickAddNoteHandler(e){""!==todoValueInputField.value&&(new Note(todoValueInputField.value).addNote(),todoValueInputField.value="",checkNodeListChildren())}addBtn.addEventListener("click",e=>{e.preventDefault(),ClickAddNoteHandler(e)}),editBtn.addEventListener("click",e=>{(isEditActive=!isEditActive)?editBtn.classList.add("active"):editBtn.classList.remove("active")}),removeBtn.addEventListener("click",e=>{(isRemoveActive=!isRemoveActive)?removeBtn.classList.add("active"):removeBtn.classList.remove("active")}),todoValueInputField.addEventListener("keyup",e=>{"Enter"===e.key&&(e.preventDefault(),ClickAddNoteHandler(e))}),document.addEventListener("DOMContentLoaded",checkNodeListChildren),document.addEventListener("change",checkNodeListChildren);let emptyListMsg=document.createElement("p");function checkNodeListChildren(){0===noteList.querySelectorAll("li").length?(noteList.contains(emptyListMsg)||(emptyListMsg.innerHTML="No thoughts collected...",emptyListMsg.id="emptyListTxt",noteList.appendChild(emptyListMsg)),emptyListMsg.style.display="block"):(emptyListMsg.style.display="none",noteList.removeChild(emptyListMsg))}function editBtnClickHandler(e){"LI"===e.tagName&&Note.editNote(e)}noteList.addEventListener("dblclick",e=>{console.log("dblclick found!");e=e.target;if("LI"!==e.tagName)return console.log("returned from dblclick event!");e.classList.contains("selectedItem")?(console.log("SELECTED ALREADY!!!"),e.classList.remove("selectedItem")):(e.classList.add("selectedItem"),console.log("added class")),isEditActive&&e.classList.contains("selectedItem")&&editBtnClickHandler(e)});