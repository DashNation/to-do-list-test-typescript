let addBtn=document.getElementById("addBtn"),editBtn=document.getElementById("editBtn"),removeBtn=document.getElementById("removeBtn"),todoValueInputField=document.getElementById("todoValueInputField"),noteList=document.getElementById("noteList"),noteCount=0,isEditActive=!1,isRemoveActive=!1,isFillerTextVisible=!0;window.addEventListener("keydown",e=>{"e"===e.key.toLocaleLowerCase()&&e.altKey&&((isEditActive=!isEditActive)?editBtn.classList.add("active"):editBtn.classList.remove("active"))}),window.addEventListener("keydown",e=>{"r"===e.key.toLocaleLowerCase()&&e.altKey&&((isRemoveActive=!isRemoveActive)?(removeBtn.classList.add("active"),(isFillerTextVisible?removeRemoveNoteBtns:addRemoveNoteBtns)()):(removeBtn.classList.remove("active"),isFillerTextVisible||removeRemoveNoteBtns()))});class Note{note;id;constructor(e){this.note=todoValueInputField.value.trim(),this.id=noteCount++}addNote(){var e,t;""!==this.note&&((e=document.createElement("div")).classList.add("noteListItemWrapper"),e.style.display="flex",e.style.flexDirection="row",e.style.justifyContent="start",e.style.alignItems="center",e.style.width="100%",e.style.height="100%",noteList.appendChild(e),(t=document.createElement("li")).classList.add("listElement"),t.innerHTML=this.note,t.id=""+this.id,e.appendChild(t))}static editNote(e){let t=document.createElement("div"),i=(t.id="userInputWrapper",t.style.display="flex",t.style.flexDirection="row",t.style.alignItems="center",t.style.justifyContent="space-between",t.style.gap="0.05rem",noteList.appendChild(t),e.textContent||""),s=document.createElement("input"),n=(s.value=i,s.id="userInputField",s.classList.add("userInputField"),s.type="text",document.createElement("button"));n.classList.add("checkBtn"),n.classList.add("btn");var d=document.createElement("img");d.src="SVG/checkMark24.svg",d.classList.add("check"),n.appendChild(d);let l=document.createElement("button");l.classList.add("crossBtn"),l.classList.add("btn");d=document.createElement("img");function o(){var e=document.createElement("li");e.value;e.textContent=s.value,e.classList.add("listElement"),t.replaceWith(e),n.remove(),l.remove()}function a(e){var t=document.createElement("li");t.textContent=e,t.classList.add("listElement"),s.replaceWith(t),n.remove(),l.remove()}d.src="SVG/cross50.svg",d.classList.add("cross"),l.appendChild(d),t.appendChild(s),t.appendChild(n),t.appendChild(l),e.replaceWith(t),s.focus();let c=!1;n.addEventListener("mousedown",()=>{c=!0,o()}),l.addEventListener("mousedown",()=>{c=!0,a(i)}),s.addEventListener("keydown",e=>{c||("Enter"===e.key&&o(),"Escape"===e.key&&(console.log("Escape Pressed!"),a(i)))}),s.addEventListener("blur",()=>{c||o()})}}function ClickAddNoteHandler(e){""!==todoValueInputField.value&&(new Note(todoValueInputField.value).addNote(),todoValueInputField.value="",checkNodeListChildren())}addBtn.addEventListener("click",e=>{e.preventDefault(),ClickAddNoteHandler(e)}),editBtn.addEventListener("click",e=>{(isEditActive=!isEditActive)?editBtn.classList.add("active"):editBtn.classList.remove("active")}),removeBtn.addEventListener("click",e=>{((isRemoveActive=!isRemoveActive)?(removeBtn.classList.add("active"),isFillerTextVisible?removeRemoveNoteBtns:addRemoveNoteBtns):(removeBtn.classList.remove("active"),removeRemoveNoteBtns))()}),todoValueInputField.addEventListener("keyup",e=>{"Enter"===e.key&&(e.preventDefault(),ClickAddNoteHandler(e))}),document.addEventListener("DOMContentLoaded",checkNodeListChildren),document.addEventListener("change",checkNodeListChildren);let emptyListMsg=document.createElement("p");function checkNodeListChildren(){0===noteList.querySelectorAll("li").length?(noteList.contains(emptyListMsg)||((emptyListMsg=document.createElement("p")).innerHTML="No thoughts collected...",emptyListMsg.id="emptyListTxt",noteList.appendChild(emptyListMsg)),isFillerTextVisible=!0,emptyListMsg.style.display="block"):(noteList.contains(emptyListMsg)&&noteList.removeChild(emptyListMsg),isFillerTextVisible=!1,emptyListMsg.style.display="none")}function editBtnClickHandler(e){"LI"===e.tagName&&Note.editNote(e)}function addRemoveNoteBtns(){Array.from(noteList.children).forEach(e=>{var t=document.createElement("button"),i=(t.classList.add("btn"),t.classList.add("removeNoteBtn"),t.style.justifyContent="center",removeBtn.style.alignItems="center",document.createElement("img"));i.src="SVG/minus.svg",i.classList.add("minus"),t.appendChild(i),e.appendChild(t),t.addEventListener("click",e=>{var e=e.target;e&&(e=e.closest(".noteListItemWrapper"))&&(e.remove(),checkNodeListChildren())})})}function removeRemoveNoteBtns(){Array.from(noteList.children).forEach(e=>{e=e.querySelector(".removeNoteBtn");e&&e.remove()})}noteList.addEventListener("dblclick",e=>{e=e.target.closest("li");e&&noteList.contains(e)&&(e.classList.contains("selectedItem")?e.classList.remove("selectedItem"):e.classList.add("selectedItem"),isEditActive)&&e.classList.contains("selectedItem")&&editBtnClickHandler(e)});